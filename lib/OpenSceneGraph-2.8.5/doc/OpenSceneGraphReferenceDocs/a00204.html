<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenSceneGraph: osg::DeleteHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="a01635.html">osg</a>      </li>
      <li><a class="el" href="a00204.html">osg::DeleteHandler</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>osg::DeleteHandler Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osg::DeleteHandler" -->
<p>Class for override the default delete behavior so that users can implement their own object deletion schemes.  
<a href="#_details">More...</a></p>

<p><a href="a02009.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; int, const <br class="typebreak"/>
<a class="el" href="a00629.html">osg::Referenced</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#ab4e8e762232f5777a946cdf50244b0e2">FrameNumberObjectPair</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::list<br class="typebreak"/>
&lt; <a class="el" href="a00204.html#ab4e8e762232f5777a946cdf50244b0e2">FrameNumberObjectPair</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a2c5d6ebc106ff91f377ad882c672cbba">ObjectsToDeleteList</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a3e6cc7b6f31af4cc523151f26180c486">DeleteHandler</a> (int numberOfFramesToRetainObjects=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a0bb0a449c5856626776f38e270cba886">~DeleteHandler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#ab8cd27a6894f0cf20860dcaa48bb3c6c">setNumFramesToRetainObjects</a> (int numberOfFramesToRetainObjects)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of frames to retain objects that are have been requested for deletion.  <a href="#ab8cd27a6894f0cf20860dcaa48bb3c6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#acb84985ebbfe4731e98be7810c7bd1e8">getNumFramesToRetainObjects</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a711c07b34ed1a8d077febfb652375a6f">setFrameNumber</a> (int frameNumber)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the current frame number so that subsequent deletes get tagged as associated with this frame.  <a href="#a711c07b34ed1a8d077febfb652375a6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a672c9534b65e2dfff7263148ef53cdcc">getFrameNumber</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current frame number.  <a href="#a672c9534b65e2dfff7263148ef53cdcc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a08c402e4d7b94926a1f94aa03bfc2ef5">doDelete</a> (const <a class="el" href="a00629.html">Referenced</a> *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a9e37eb8173c9d53cb241410fc4c97d07">flush</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flush objects that ready to be fully deleted.  <a href="#a9e37eb8173c9d53cb241410fc4c97d07"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#af9ef99d164e8c62e44ad155d7d78ece9">flushAll</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flush all objects that the <a class="el" href="a00204.html" title="Class for override the default delete behavior so that users can implement their own object deletion ...">DeleteHandler</a> holds.  <a href="#af9ef99d164e8c62e44ad155d7d78ece9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#afd5c28a84715a535e614690dcf7f0609">requestDelete</a> (const <a class="el" href="a00629.html">osg::Referenced</a> *object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the deletion of an object.  <a href="#afd5c28a84715a535e614690dcf7f0609"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a5005d8203d76b39367c72fd7b1fbeea5">DeleteHandler</a> (const <a class="el" href="a00204.html">DeleteHandler</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00204.html">DeleteHandler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a1b33223f8b84b81dd2d625c2c61fc7ae">operator=</a> (const <a class="el" href="a00204.html">DeleteHandler</a> &amp;)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a0e60bf99984970657af5410177e7172e">_numFramesToRetainObjects</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a9ae739782633bd824d13a43ec0d23729">_currentFrameNumber</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OpenThreads::Mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a1a76d88f07e99df2e5a6e2ff9a73ecc8">_mutex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00204.html#a2c5d6ebc106ff91f377ad882c672cbba">ObjectsToDeleteList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html#a06cc00cc29590f10166924687f15cbbb">_objectsToDelete</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class for override the default delete behavior so that users can implement their own object deletion schemes. </p>
<p>This might be done to help implement protection of multiple threads from deleting objects unintentionally. Note, the <a class="el" href="a00204.html" title="Class for override the default delete behavior so that users can implement their own object deletion ...">DeleteHandler</a> cannot itself be reference counted, otherwise it would be responsible for deleting itself! An static auto_ptr&lt;&gt; is used internally in Referenced.cpp to manage the DeleteHandler's memory. </p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ab4e8e762232f5777a946cdf50244b0e2"></a><!-- doxytag: member="osg::DeleteHandler::FrameNumberObjectPair" ref="ab4e8e762232f5777a946cdf50244b0e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;int, const <a class="el" href="a00629.html">osg::Referenced</a>*&gt; <a class="el" href="a00204.html#ab4e8e762232f5777a946cdf50244b0e2">osg::DeleteHandler::FrameNumberObjectPair</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2c5d6ebc106ff91f377ad882c672cbba"></a><!-- doxytag: member="osg::DeleteHandler::ObjectsToDeleteList" ref="a2c5d6ebc106ff91f377ad882c672cbba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::list&lt;<a class="el" href="a00204.html#ab4e8e762232f5777a946cdf50244b0e2">FrameNumberObjectPair</a>&gt; <a class="el" href="a00204.html#a2c5d6ebc106ff91f377ad882c672cbba">osg::DeleteHandler::ObjectsToDeleteList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3e6cc7b6f31af4cc523151f26180c486"></a><!-- doxytag: member="osg::DeleteHandler::DeleteHandler" ref="a3e6cc7b6f31af4cc523151f26180c486" args="(int numberOfFramesToRetainObjects=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::DeleteHandler::DeleteHandler </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numberOfFramesToRetainObjects</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0bb0a449c5856626776f38e270cba886"></a><!-- doxytag: member="osg::DeleteHandler::~DeleteHandler" ref="a0bb0a449c5856626776f38e270cba886" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual osg::DeleteHandler::~DeleteHandler </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5005d8203d76b39367c72fd7b1fbeea5"></a><!-- doxytag: member="osg::DeleteHandler::DeleteHandler" ref="a5005d8203d76b39367c72fd7b1fbeea5" args="(const DeleteHandler &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::DeleteHandler::DeleteHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00204.html">DeleteHandler</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a08c402e4d7b94926a1f94aa03bfc2ef5"></a><!-- doxytag: member="osg::DeleteHandler::doDelete" ref="a08c402e4d7b94926a1f94aa03bfc2ef5" args="(const Referenced *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osg::DeleteHandler::doDelete </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00629.html">Referenced</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9e37eb8173c9d53cb241410fc4c97d07"></a><!-- doxytag: member="osg::DeleteHandler::flush" ref="a9e37eb8173c9d53cb241410fc4c97d07" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void osg::DeleteHandler::flush </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush objects that ready to be fully deleted. </p>

</div>
</div>
<a class="anchor" id="af9ef99d164e8c62e44ad155d7d78ece9"></a><!-- doxytag: member="osg::DeleteHandler::flushAll" ref="af9ef99d164e8c62e44ad155d7d78ece9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void osg::DeleteHandler::flushAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush all objects that the <a class="el" href="a00204.html" title="Class for override the default delete behavior so that users can implement their own object deletion ...">DeleteHandler</a> holds. </p>
<p>Note, this should only be called if there are no threads running with non ref_ptr&lt;&gt; pointers, such as graphics threads. </p>

</div>
</div>
<a class="anchor" id="a672c9534b65e2dfff7263148ef53cdcc"></a><!-- doxytag: member="osg::DeleteHandler::getFrameNumber" ref="a672c9534b65e2dfff7263148ef53cdcc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osg::DeleteHandler::getFrameNumber </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current frame number. </p>

</div>
</div>
<a class="anchor" id="acb84985ebbfe4731e98be7810c7bd1e8"></a><!-- doxytag: member="osg::DeleteHandler::getNumFramesToRetainObjects" ref="acb84985ebbfe4731e98be7810c7bd1e8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osg::DeleteHandler::getNumFramesToRetainObjects </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b33223f8b84b81dd2d625c2c61fc7ae"></a><!-- doxytag: member="osg::DeleteHandler::operator=" ref="a1b33223f8b84b81dd2d625c2c61fc7ae" args="(const DeleteHandler &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00204.html">DeleteHandler</a> osg::DeleteHandler::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00204.html">DeleteHandler</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd5c28a84715a535e614690dcf7f0609"></a><!-- doxytag: member="osg::DeleteHandler::requestDelete" ref="afd5c28a84715a535e614690dcf7f0609" args="(const osg::Referenced *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void osg::DeleteHandler::requestDelete </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00629.html">osg::Referenced</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request the deletion of an object. </p>
<p>Depending on users implementation of <a class="el" href="a00204.html" title="Class for override the default delete behavior so that users can implement their own object deletion ...">DeleteHandler</a>, the delete of the object may occur straight away or be delayed until doDelete is called. The default implementation does a delete straight away. </p>

</div>
</div>
<a class="anchor" id="a711c07b34ed1a8d077febfb652375a6f"></a><!-- doxytag: member="osg::DeleteHandler::setFrameNumber" ref="a711c07b34ed1a8d077febfb652375a6f" args="(int frameNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osg::DeleteHandler::setFrameNumber </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>frameNumber</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the current frame number so that subsequent deletes get tagged as associated with this frame. </p>

</div>
</div>
<a class="anchor" id="ab8cd27a6894f0cf20860dcaa48bb3c6c"></a><!-- doxytag: member="osg::DeleteHandler::setNumFramesToRetainObjects" ref="ab8cd27a6894f0cf20860dcaa48bb3c6c" args="(int numberOfFramesToRetainObjects)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osg::DeleteHandler::setNumFramesToRetainObjects </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numberOfFramesToRetainObjects</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the number of frames to retain objects that are have been requested for deletion. </p>
<p>When set to zero objects are deleted immediately, by set to 1 there are kept around for an extra frame etc. The ability to retain objects for several frames is useful to prevent premature deletion when objects are still be used the graphics threads that are using double buffering of rendering data structures with non ref_ptr&lt;&gt; pointers to scene graph elements. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9ae739782633bd824d13a43ec0d23729"></a><!-- doxytag: member="osg::DeleteHandler::_currentFrameNumber" ref="a9ae739782633bd824d13a43ec0d23729" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00204.html#a9ae739782633bd824d13a43ec0d23729">osg::DeleteHandler::_currentFrameNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a76d88f07e99df2e5a6e2ff9a73ecc8"></a><!-- doxytag: member="osg::DeleteHandler::_mutex" ref="a1a76d88f07e99df2e5a6e2ff9a73ecc8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenThreads::Mutex <a class="el" href="a00204.html#a1a76d88f07e99df2e5a6e2ff9a73ecc8">osg::DeleteHandler::_mutex</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0e60bf99984970657af5410177e7172e"></a><!-- doxytag: member="osg::DeleteHandler::_numFramesToRetainObjects" ref="a0e60bf99984970657af5410177e7172e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00204.html#a0e60bf99984970657af5410177e7172e">osg::DeleteHandler::_numFramesToRetainObjects</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a06cc00cc29590f10166924687f15cbbb"></a><!-- doxytag: member="osg::DeleteHandler::_objectsToDelete" ref="a06cc00cc29590f10166924687f15cbbb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00204.html#a2c5d6ebc106ff91f377ad882c672cbba">ObjectsToDeleteList</a> <a class="el" href="a00204.html#a06cc00cc29590f10166924687f15cbbb">osg::DeleteHandler::_objectsToDelete</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>osg/<a class="el" href="a01157.html">DeleteHandler</a></li>
</ul>
</div>
<hr>
<table border="0"><tr><td>
  <img src="osg32-32.png" alt="osg logo" />
</td><td>
  <address><small>Generated at Thu Jun 9 2011 16:37:14 for the <a href="http://www.openscenegraph.org/">OpenSceneGraph</a>
by <a href="http://www.doxygen.org">doxygen</a> 1.7.1.</small></address>
<!-- Dimitri van Heesch's e-mail address removed, lest he get messages on the OpenSceneGraph -->
</td></tr></table>
</body>
</html>
